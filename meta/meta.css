:root{
  --fg:#0a0a0a;
  --muted:#6b7280;      /* gray-500 */
  --tile:#f7f7f8;
  --border:#e5e7eb;
  --blue:#4f83c4;
  --blue-30:#4f83c455;
  --pink:#ef6d75;
  --grid:#e5e7eb;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial;
  color:var(--fg);
  background:#fff;
}
a{color:inherit;text-decoration:none}
.nav{border-bottom:1px solid var(--border); background:#fff; position:sticky; top:0; z-index:10}
.nav-inner{max-width:1000px;margin:0 auto;display:flex;gap:20px;padding:12px 16px}
.nav a{opacity:.7}
.nav a.active,.nav a:hover{opacity:1}

.page{max-width:1000px;margin:32px auto;padding:0 16px}
h1{font-size:44px;margin:0 0 8px}
h2{margin:28px 0 8px}
h3{margin:24px 0 8px}
.note{color:var(--muted);margin:6px 0 20px}

/* Time slider */
#time-filter{
  display:flex;
  align-items:baseline;
  gap:1rem;
  margin-top:12px;
  margin-bottom:12px;
}
#time-filter label{
  flex:1;
}
#commit-progress{
  width:60%;
  margin-left:0.5rem;
}
#commit-time{
  margin-left:auto;
  font-size:14px;
  color:var(--muted);
}

/* Summary tiles */
.stats{
  display:grid;
  grid-template-columns: repeat(5, minmax(140px,1fr));
  gap:16px;
  margin:22px 0 28px;
}
.tile{
  background:var(--tile);
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px 16px;
}
.tile .label{
  font-size:12px;
  letter-spacing:.06em;
  color:var(--muted);
  text-transform:uppercase;
}
.tile .value{
  font-size:32px;
  font-weight:700;
  margin-top:8px;
}

/* Chart container */
#chart{
  width:100%;
  height:440px;
  border:1px solid var(--border);
  border-radius:14px;
  padding:6px;
}

/* SVG + axes */
svg{width:100%;height:100%}
.axis text{fill:#374151;font-size:12px}
.grid line{stroke:var(--grid);stroke-opacity:.85;shape-rendering:crispEdges}
.grid path{display:none}

/* bubbles */
.dot{
  fill:var(--blue);
  fill-opacity:.35;
  stroke:var(--blue);
  stroke-opacity:.5;
  transition: all 200ms, r 200ms;
}
.dot.hidden{
  opacity:0;
}
.dot:hover{
  transform:scale(1.1);
  transform-origin:center;
}

/* ===========================
   SCROLLY SETUP
   =========================== */

#scrolly-1 {
  position: relative;
  display: flex;
  gap: 1.5rem;
}

#scrolly-1 > * {
  flex: 1;
}

#scatter-story {
  position: relative;
}

#scatter-story .step {
  padding-bottom: 55vh; /* ensures enough scroll spacing */
  border-left: 2px solid #e5e7eb;
  padding-left: 1rem;
  margin-left: 0.5rem;
}

#scatter-plot {
  position: sticky;
  top: 64px;   /* below navbar */
  height: 60vh;
}

/* ===========================
   FILE UNIT VISUALIZATION
   =========================== */

#files{
  display:grid;
  grid-template-columns: 1fr 4fr;
  gap:0.25rem 0.75rem;
  margin-top:16px;
}
#files > div{
  grid-column:1 / -1;
  display:grid;
  grid-template-columns:subgrid;
}
#files dt{
  grid-column:1;
}
#files dd{
  grid-column:2;
  margin:0;
  display:flex;
  flex-wrap:wrap;
  align-items:flex-start;
  align-content:flex-start;
  gap:0.15em;
  padding-top:0.6em;
}
#files code{
  font-size:14px;
}
#files small{
  display:block;
  font-size:11px;
  color:var(--muted);
}

/* one dot per line of code */
.loc{
  display:flex;
  width:0.55em;
  aspect-ratio:1;
  background:var(--blue);
  border-radius:50%;
  opacity:0.9;
}

/* --- Matching homepage nav --- */
.topnav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 60px;
  padding: 25px 0 15px;
  border-bottom: 1px solid #d0d7de;
  background: #fff;
}

.topnav a {
  text-decoration: none;
  color: #000;
  opacity: 0.7;
  font-size: 15px;
}

.topnav a:hover,
.topnav a.active {
  opacity: 1;
  font-weight: 600;
  border-bottom: 3px solid #bfc9cd;
  padding-bottom: 5px;
}
